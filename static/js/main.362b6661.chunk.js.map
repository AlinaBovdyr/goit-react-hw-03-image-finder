{"version":3,"sources":["components/Button/Button.module.css","components/Searchbar/Searchbar.js","services/searchImgApi.js","components/ImageGallery/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleInputChange","event","value","target","setState","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","this","className","s","SearchForm","type","button","buttonLabel","SearchInput","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImage","searchImg","searchParams","URLSearchParams","q","image_type","orientation","page","per_page","key","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","images","map","id","webformatURL","tags","GalleryItem","src","alt","GalleryItemImage","Button","onBtnClick","onClick","ImageGallery","status","prevProps","prevState","prevQuery","query","currentQuery","imageAPI","hits","length","catch","message","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.362b6661.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2f9Uu\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        searchQuery: '',\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { value } = event.target;\r\n\r\n        this.setState({\r\n            searchQuery: value,\r\n        });\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        const { searchQuery } = this.state;\r\n\r\n        if (searchQuery.trim() === '') {\r\n            return toast.error('Please, enter your search query!')\r\n        }\r\n\r\n        this.props.onSubmit(searchQuery);\r\n\r\n        this.setState({\r\n            searchQuery: '',\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { searchQuery } = this.state;\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={s.button}>\r\n                        <span className={s.buttonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={s.SearchInput}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={searchQuery}\r\n                        onChange={this.handleInputChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n","// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst KEY = '19151711-be14d41e7a0bdcd70a93cb54b';\r\n\r\nfunction fetchImage(searchImg) {\r\n    const searchParams = new URLSearchParams({\r\n            q: searchImg,\r\n            image_type: 'photo',\r\n            orientation: 'horizontal',\r\n            page: 1,\r\n            per_page: 12,\r\n            key: KEY,\r\n    });\r\n\r\n    const url = `${BASE_URL}?${searchParams}`;\r\n\r\n    return fetch(url)\r\n        .then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n\r\n            return Promise.reject(new Error(`Bad search query :( We have no ${searchImg} images`))\r\n        })\r\n}\r\n\r\nconst api = { fetchImage };\r\nexport default api;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGalleryItem = ({images}) => {\r\n    return (\r\n        <>\r\n            {images.map(({id, webformatURL, tags}) => {\r\n                return (\r\n                    <li key={id} className={s.GalleryItem}>\r\n                        <img src={webformatURL} alt={tags} className={s.GalleryItemImage} />\r\n                    </li>\r\n                )\r\n            })} \r\n        </>\r\n    );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    id: PropTypes.number,\r\n    webformatURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({onBtnClick}) => {\r\n    return (\r\n        <button type=\"button\" className={s.Button} onClick={onBtnClick}>\r\n            Load more\r\n        </button>\r\n    );\r\n};\r\n\r\nButton.propTypes = {\r\n    onBtnClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport imageAPI from '../../services/searchImgApi';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport Button from '../Button';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default class ImageGallery extends Component {\r\n    state = {\r\n        images: null,\r\n        status: 'idle',\r\n        error: null,\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const prevQuery = prevProps.query;\r\n        const currentQuery = this.props.query;\r\n\r\n        if (prevQuery !== currentQuery) {\r\n            this.setState({\r\n                status: 'pending'\r\n            })\r\n\r\n            imageAPI.fetchImage(currentQuery)\r\n                .then(({ hits }) => {\r\n                    if (hits.length === 0) {\r\n                        return Promise.reject(new Error(`Bad search query :( We have no ${currentQuery} images`));\r\n                    }\r\n\r\n                    this.setState({\r\n                        images: hits,\r\n                        status: 'resolved'\r\n                    })\r\n                })\r\n                .catch(error => this.setState({\r\n                    error,\r\n                    status: 'rejected'\r\n                }))\r\n        };\r\n\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { images, status, error } = this.state;\r\n\r\n        if (status === 'idle') {\r\n            return <p>Enter in the searchbar the images you want to search</p>\r\n        }\r\n\r\n        if (status === 'pending') { \r\n            return <div>Loading...</div>\r\n        }\r\n\r\n        if (status === 'rejected') { \r\n            return <div>{error.message}</div>\r\n        }\r\n\r\n        if (status === 'resolved') { \r\n            return (\r\n                <>\r\n                    <ul className={s.ImageGallery}>\r\n                        <ImageGalleryItem images={images} />\r\n                    </ul>\r\n                    <Button />\r\n                </>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery'\n\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  }\n\n  handleFormSubmit = query => {\n    this.setState({\n      searchQuery: query,\n    })\n  }\n\n  render() {\n    const { searchQuery } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery query={searchQuery}/>\n        <ToastContainer autoClose={2500}/>\n      </div>\n    );\n  }\n  \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1pZ79\",\"SearchForm\":\"Searchbar_SearchForm__Wl2OV\",\"button\":\"Searchbar_button__3qkVQ\",\"buttonLabel\":\"Searchbar_buttonLabel__2uW3U\",\"SearchInput\":\"Searchbar_SearchInput__hfh_i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1-Fqd\",\"GalleryItem\":\"ImageGallery_GalleryItem__2hDxC\",\"GalleryItemImage\":\"ImageGallery_GalleryItemImage__3LYbl\"};"],"sourceRoot":""}